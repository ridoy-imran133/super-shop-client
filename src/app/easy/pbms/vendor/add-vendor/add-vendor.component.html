<nb-card>
    <nb-card-header>
        Vendor
        <!-- {{text}} Vendor -->
        <a nbButton style="float: right;" size="tiny" [status]="'danger'" (click)="dismissfornone()">
            <span>X</span></a>
    </nb-card-header>
    <nb-card-body>
            
        <form (ngSubmit)="onSaveVendor()" [formGroup]="masterForm">
            <!-- <fieldset style="border: 2px solid #edf1f7; padding: 0.35em 0.75em 0em"> -->
            <div class="row" style="margin-top: 1%;">
                <div class="col-md-2">
                    <label class="levelFontDesign">Vendor Code:<span style="color: red;">*</span></label>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <input [(ngModel)]="_vendor.vendor_code" formControlName="vendor_code"
                            class="form-control" type="text" fullWidth nbInput
                            [ngClass]="{ 'is-invalid': submitted && fval.vendor_code.errors }">
                            <div *ngIf="submitted && fval.vendor_code.errors" class="invalid-feedback">
                                <div *ngIf="fval.vendor_code.errors.required">Vendor Code</div>
                            </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <label class="levelFontDesign">Vendor name:<span style="color: red;">*</span></label>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <input [(ngModel)]="_vendor.vendor_name" formControlName="vendor_name"
                            class="form-control" type="text" fullWidth nbInput
                            [ngClass]="{ 'is-invalid': submitted && fval.vendor_name.errors }">
                            <div *ngIf="submitted && fval.vendor_name.errors" class="invalid-feedback">
                                <div *ngIf="fval.vendor_name.errors.required">Vendor name</div>
                            </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-2">
                    <label class="levelFontDesign">Service Name:<span style="color: red;">*</span></label>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <nb-select [(ngModel)]="_vendor.vas_code" formControlName="vas_code"
                            [selected]="_vendor.vas_code" [ngClass]="{ 'is-invalid': submitted && fval.vas_code.errors }"
                            fullWidth placeholder="Select Service">
                            <nb-option *ngFor="let vs of _vasServices" [value]="vs.service_code"> {{
                                vs.service_name }}</nb-option>
                        </nb-select>
                        <div *ngIf="fval.vas_code.errors" class="invalid-feedback">
                            <div *ngIf="fval.vas_code.errors.required">Service Name is Required</div>
                        </div>
                    </div>
                </div>

                <div class="col-md-2">
                    <label class="levelFontDesign">Location Code:</label>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <input [(ngModel)]="_vendor.loaction_code" formControlName="loaction_code"
                            class="form-control" type="text" fullWidth nbInput >

                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <label class="levelFontDesign">Address:<span style="color: red;">*</span></label>
                </div>
                <div class="col-md-10">
                    <div class="form-group">
                        <textarea [(ngModel)]="_vendor.address" formControlName="address"
                            class="form-control" rows="2" name="address" id="address" nbInput fullWidth 
                            [ngClass]="{ 'is-invalid': submitted && fval.address.errors }">
                        </textarea>                            
                        <div *ngIf="fval.address.errors" class="invalid-feedback">
                            <div *ngIf="fval.address.errors.required">Address is Required</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <label class="levelFontDesign">Email:<span style="color: red;">*</span></label>
                </div>
                <div class="col-md-10">
                    <div class="form-group">
                        <textarea [(ngModel)]="_vendor.email" formControlName="email"
                            class="form-control" rows="2" name="email" id="email" nbInput fullWidth
                            [ngClass]="{ 'is-invalid': submitted && fval.email.errors }">
                        </textarea>
                        <div *ngIf="fval.email.errors" class="invalid-feedback">
                            <div *ngIf="fval.email.errors.required">Email is Required</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <label class="levelFontDesign">Contact Person:<span style="color: red;">*</span></label>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <input [(ngModel)]="_vendor.contact_person" formControlName="contact_person"
                            class="form-control" type="text" fullWidth nbInput
                            [ngClass]="{ 'is-invalid': submitted && fval.contact_person.errors }">
                        <div *ngIf="fval.contact_person.errors" class="invalid-feedback">
                            <div *ngIf="fval.contact_person.errors.required">Contact Person is Required
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <label class="levelFontDesign">Contact Person Mobile:<span style="color: red;">*</span></label>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <input [(ngModel)]="_vendor.contact_person_mobile"
                            formControlName="contact_person_mobile" class="form-control" type="text" appNumbersOnly
                            fullWidth nbInput [ngClass]="{ 'is-invalid': submitted && fval.contact_person_mobile.errors }">
                        <div *ngIf="fval.contact_person_mobile.errors" class="invalid-feedback">
                            <div *ngIf="fval.contact_person_mobile.errors.required">Contact Person Mobile is Required</div>
                            <div *ngIf="fval.contact_person_mobile.errors.pattern || fval.contact_person_mobile.errors.maxlength || fval.contact_person_mobile.errors.minlength">Phone number must be 11 digits</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <label class="levelFontDesign">Own Vendor:</label>
                </div>
                <div class="col-md-4">
                    <div class="form-group" style="margin-top: 12px;">
                        <nb-checkbox status="basic" [(ngModel)]="town_vendor"
                            formControlName="own_vendor"></nb-checkbox>
                    </div>
                </div>
                <div class="col-md-2">
                    <label class="levelFontDesign">Active:</label>
                </div>
                <div class="col-md-4">
                    <div class="form-group" style="margin-top: 12px;">
                        <nb-checkbox status="basic" [(ngModel)]="tstatus" formControlName="status">
                        </nb-checkbox>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <button nbButton hero [status]="'primary'" type="submit"
                    style="width: 70px; height: 30px; font-size: 12px;" nbSpinnerStatus="danger"
                    nbSpinnerSize="large" nbSpinnerMessage="">Save</button>
            </div>
        <!-- </fieldset> -->
        </form>
    </nb-card-body>
</nb-card>